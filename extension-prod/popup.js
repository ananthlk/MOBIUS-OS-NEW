(()=>{"use strict";var n={56(n,e,t){n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72(n){var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var r={},a=[],s=0;s<n.length;s++){var p=n[s],d=o.base?p[0]+o.base:p[0],l=r[d]||0,c="".concat(d," ").concat(l);r[d]=l+1;var x=t(c),u={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==x)e[x].references++,e[x].updater(u);else{var f=i(u,o);o.byIndex=s,e.splice(s,0,{identifier:c,updater:f,references:1})}a.push(c)}return a}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var r=o(n=n||[],i=i||{});return function(n){n=n||[];for(var a=0;a<r.length;a++){var s=t(r[a]);e[s].references--}for(var p=o(n,i),d=0;d<r.length;d++){var l=t(r[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=p}}},113(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,o,i,r){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var p=this[s][0];null!=p&&(a[p]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);o&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},540(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601(n){n.exports=function(n){return n[1]}},659(n){var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},718(n,e,t){t.d(e,{A:()=>s});var o=t(601),i=t.n(o),r=t(314),a=t.n(r)()(i());a.push([n.id,"/**\n * Popup styles for Mobius OS extension\n * Extracted from ui-mockup.html\n */\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n/* Sidebar container (for content script injection) */\n#mobius-os-sidebar {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Google Sans', sans-serif !important;\n  background: #ffffff !important;\n  position: fixed !important;\n  top: 0 !important;\n  right: 0 !important;\n  width: 450px !important;\n  height: 100vh !important;\n  min-height: 100vh !important;\n  max-height: 100vh !important;\n  z-index: 2147483647 !important;\n  box-shadow: -2px 0 8px rgba(0,0,0,0.1) !important;\n  overflow: hidden !important;\n  display: flex !important;\n  flex-direction: column !important;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n\n#mobius-os-sidebar * {\n  box-sizing: border-box !important;\n}\n\n/* Popup styles (for extension popup) */\nhtml, body {\n  margin: 0;\n  padding: 0;\n  width: 450px;\n  min-width: 450px;\n  max-width: 450px;\n  height: 800px;\n  min-height: 800px;\n  max-height: 800px;\n  overflow: hidden;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Google Sans', sans-serif;\n  background: #ffffff;\n  width: 450px;\n  height: 800px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n/* Sidebar-specific adjustments */\n#mobius-os-sidebar .top-row,\n#mobius-os-sidebar .second-row,\n#mobius-os-sidebar .tasks-panel,\n#mobius-os-sidebar .chat-area,\n#mobius-os-sidebar .chat-input-area,\n#mobius-os-sidebar .record-id-input,\n#mobius-os-sidebar .workflow-buttons,\n#mobius-os-sidebar .footer {\n  width: 100%;\n}\n\n/* Top Row / Header */\n.top-row {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 10px;\n  padding: 10px 16px;\n  border-bottom: 1px solid #f0f0f0;\n  background: white;\n  flex-shrink: 0;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-left: auto;\n  flex-shrink: 0;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 0 1 auto;\n  min-width: 0;\n}\n\n.client-logo {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 12px;\n  color: #5f6368;\n  min-width: 100px;\n}\n\n.client-logo img {\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n}\n\n.client-logo-svg {\n  width: 24px;\n  height: 24px;\n  flex-shrink: 0;\n}\n\n.client-logo-svg svg {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n.client-logo-placeholder {\n  width: 24px;\n  height: 24px;\n  background: #e8eaed;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 10px;\n  color: #5f6368;\n}\n\n.client-name {\n  font-weight: 500;\n  color: #202124;\n}\n\n.logo-section {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: nowrap;\n  min-width: 0;\n}\n\n.mobius-logo {\n  width: 32px;\n  height: 32px;\n  position: relative;\n}\n\n.mobius-logo svg {\n  width: 100%;\n  height: 100%;\n}\n\n.mobius-logo .path-normal {\n  display: none;\n}\n\n.mobius-logo .path-processing {\n  display: block;\n}\n\n.mobius-logo:not(.status-processing) .path-normal {\n  display: block;\n}\n\n.mobius-logo:not(.status-processing) .path-processing {\n  display: none;\n}\n\n.logo-label {\n  font-weight: 500;\n  font-size: 13px;\n  color: #202124;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 120px;\n}\n\n.context-display {\n  flex: 1 1 auto;\n  margin: 0;\n  font-size: 11px;\n  color: #5f6368;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  justify-content: center;\n  min-width: 0;\n}\n\n.status-indicator {\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.status-proceed,\n.status-green {\n  background: #16a34a;\n  box-shadow: 0 0 4px rgba(22, 163, 74, 0.6);\n}\n\n.status-pending,\n.status-yellow {\n  background: #f59e0b;\n  box-shadow: 0 0 4px rgba(245, 158, 11, 0.6);\n}\n\n.status-error,\n.status-red {\n  background: #dc2626;\n  box-shadow: 0 0 4px rgba(220, 38, 38, 0.6);\n}\n\n.status-blue {\n  background: #2563eb;\n  box-shadow: 0 0 4px rgba(37, 99, 235, 0.6);\n}\n\n.status-grey {\n  background: #94a3b8;\n  box-shadow: 0 0 4px rgba(148, 163, 184, 0.6);\n}\n\n.mode-badge {\n  display: inline-block;\n  padding: 3px 8px;\n  background: #e3f2fd;\n  color: #1976d2;\n  border-radius: 12px;\n  font-size: 10px;\n  font-weight: 600;\n  margin-left: 8px;\n  text-transform: uppercase;\n}\n\n.alert-btn {\n  width: 32px;\n  height: 32px;\n  border: 1px solid #e0e0e0;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  position: relative;\n  margin-right: 8px;\n}\n\n.alert-btn:hover {\n  background: #f5f5f5;\n}\n\n.alert-btn.has-alerts {\n  background: #fff3cd;\n  border-color: #ffc107;\n}\n\n.alert-btn.has-alerts::after {\n  content: '●';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 16px;\n  color: #f44336;\n  line-height: 1;\n}\n\n.settings-btn {\n  width: 32px;\n  height: 32px;\n  border: 1px solid #e0e0e0;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n}\n\n.settings-btn:hover {\n  background: #f5f5f5;\n}\n\n/* Second Row */\n.second-row {\n  padding: 10px 16px;\n  border-bottom: 1px solid #f0f0f0;\n  background: white;\n  flex-shrink: 0;\n}\n\n.context-summary {\n  font-size: 12px;\n  color: #202124;\n  margin-bottom: 6px;\n  line-height: 1.4;\n}\n\n.quick-action-btn {\n  display: inline-block;\n  padding: 6px 12px;\n  background: #1976d2;\n  color: white;\n  border-radius: 6px;\n  font-size: 12px;\n  cursor: pointer;\n  border: none;\n}\n\n.quick-action-btn:hover {\n  background: #1565c0;\n}\n\n/* Tasks Panel */\n.tasks-panel {\n  padding: 8px 16px;\n  border-bottom: 1px solid #e0e0e0;\n  background: #fafafa;\n  max-height: 150px;\n  overflow-y: auto;\n  flex-shrink: 0;\n}\n\n.tasks-panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  font-size: 11px;\n  font-weight: 600;\n  color: #666;\n  margin-bottom: 6px;\n}\n\n.tasks-status-indicator {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  margin-right: 6px;\n  flex-shrink: 0;\n}\n\n.tasks-status-active {\n  background: #4caf50;\n  box-shadow: 0 0 3px rgba(76, 175, 80, 0.6);\n}\n\n.tasks-status-pending {\n  background: #ff9800;\n  box-shadow: 0 0 3px rgba(255, 152, 0, 0.6);\n}\n\n.tasks-panel-content {\n  display: none;\n}\n\n.tasks-panel-content.show {\n  display: block;\n}\n\n.task-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 6px;\n  padding: 4px 0;\n  font-size: 11px;\n  color: #333;\n}\n\n.task-item input[type=\"checkbox\"] {\n  margin-top: 2px;\n  flex-shrink: 0;\n}\n\n.task-item label {\n  flex: 1;\n  cursor: pointer;\n}\n\n.task-item.shared {\n  color: #1976d2;\n}\n\n.task-item.backend {\n  color: #666;\n  font-style: italic;\n}\n\n/* Chat Area */\n.chat-area {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  min-height: 0;\n  flex-shrink: 1;\n  justify-content: flex-end;\n}\n\n.message {\n  max-width: 75%;\n  padding: 8px 12px;\n  border-radius: 8px;\n  font-size: 13px;\n  line-height: 1.5;\n}\n\n.system-message {\n  /* Stretch to full width to avoid shrink-to-fit issues with inline-block bubble max-width. */\n  align-self: stretch;\n  width: 100%;\n  background: transparent;\n  border: none;\n  padding: 0;\n  max-width: 100%;\n  color: #202124;\n}\n\n.user-message {\n  align-self: flex-end;\n  background: #1a73e8;\n  color: white;\n}\n\n.message-content {\n  margin-top: 8px;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n\n/* Compact assistant \"bubble\" */\n.system-message .message-content {\n  margin-top: 4px;\n  display: inline-block;\n  background: rgba(60, 64, 67, 0.06);\n  border: 1px solid rgba(60, 64, 67, 0.10);\n  padding: 7px 10px;\n  border-radius: 12px;\n  max-width: 92%;\n}\n\n/* Make tools unobtrusive (Gemini-style) */\n.system-message .message-header {\n  margin-bottom: 2px;\n}\n\n.system-message .message-tools-btn {\n  width: 22px;\n  height: 22px;\n  border: none;\n  background: transparent;\n  opacity: 0.0;\n  transition: opacity 0.12s ease;\n}\n\n.system-message:hover .message-tools-btn {\n  opacity: 0.85;\n}\n\n.system-message .message-tools-btn:hover {\n  opacity: 1;\n  background: rgba(60, 64, 67, 0.06);\n}\n\n/* Thinking (minimal, collapsible line) */\n.thinking-line {\n  margin: 0 0 6px 0;\n  padding: 0;\n  border: none;\n  background: transparent;\n  color: #5f6368;\n  font-size: 11px;\n}\n\n.thinking-line summary {\n  list-style: none;\n  cursor: pointer;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 0;\n}\n\n.thinking-line summary::-webkit-details-marker {\n  display: none;\n}\n\n.thinking-line summary::after {\n  content: '▸';\n  margin-left: auto;\n  opacity: 0.7;\n}\n\n.thinking-line[open] summary::after {\n  content: '▾';\n}\n\n.thinking-body {\n  margin-top: 4px;\n  padding-left: 10px;\n  border-left: 2px solid rgba(60, 64, 67, 0.12);\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n\n.feedback-capture {\n  margin-top: 8px;\n  padding: 0;\n  background: transparent;\n  border: none;\n}\n\n.feedback-rating {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n  position: relative;\n}\n\n.feedback-rating label {\n  font-size: 11px;\n  color: #5f6368;\n  font-weight: 400;\n  white-space: nowrap;\n  margin-right: 4px;\n}\n\n.thumbs-buttons {\n  display: flex;\n  gap: 4px;\n}\n\n.thumbs-btn {\n  width: 24px;\n  height: 24px;\n  border: none;\n  background: transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  transition: opacity 0.2s;\n  padding: 0;\n  opacity: 0.6;\n}\n\n.thumbs-btn:hover {\n  opacity: 1;\n}\n\n.thumbs-btn.active {\n  opacity: 1;\n}\n\n.feedback-questionnaire {\n  display: none;\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px solid #f0f0f0;\n}\n\n.feedback-questionnaire.show {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  flex-wrap: wrap;\n}\n\n.question-item {\n  flex: 1;\n  min-width: 120px;\n  font-size: 11px;\n}\n\n.question-item select,\n.question-item input[type=\"text\"] {\n  width: 100%;\n  padding: 4px 8px;\n  border: 1px solid #dadce0;\n  border-radius: 4px;\n  font-size: 11px;\n  background: white;\n}\n\n.feedback-submit {\n  padding: 5px 12px;\n  background: #1a73e8;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 11px;\n  cursor: pointer;\n  font-weight: 500;\n  white-space: nowrap;\n}\n\n.feedback-submit:hover {\n  background: #1765cc;\n}\n\n.feedback-toggle {\n  font-size: 10px;\n  color: #666;\n  cursor: pointer;\n  margin-left: auto;\n  text-decoration: underline;\n}\n\n.feedback-toggle:hover {\n  color: #333;\n}\n\n.guidance-actions {\n  margin-top: 10px;\n  padding: 8px 10px;\n  background: #e3f2fd;\n  border: 1px solid #bbdefb;\n  border-radius: 6px;\n  border-left: 3px solid #1976d2;\n  display: flex;\n  gap: 6px;\n  flex-wrap: wrap;\n}\n\n.guidance-actions button,\n.guidance-action-btn {\n  padding: 6px 12px;\n  background: #1976d2;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  font-size: 11px;\n  cursor: pointer;\n  font-weight: 500;\n}\n\n.guidance-actions button:hover,\n.guidance-action-btn:hover {\n  background: #1565c0;\n}\n\n\n.feedback-submitted {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 10px;\n  color: #4caf50;\n  font-weight: 500;\n}\n\n/* Chat Input */\n.chat-input-area {\n  padding: 12px 16px;\n  border-top: 1px solid #e0e0e0;\n  background: white;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.chat-input {\n  flex: 1;\n  width: 100%;\n  min-width: 0;\n  padding: 8px 12px;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  font-size: 13px;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n  line-height: 1.4;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.chat-input:focus {\n  border-color: #1976d2;\n}\n\n/* Message-level tools (system messages) */\n.message-header {\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 6px;\n}\n\n.message-tools {\n  position: relative;\n}\n\n.message-tools-btn {\n  width: 28px;\n  height: 28px;\n  border: 1px solid #e0e0e0;\n  background: white;\n  border-radius: 8px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  line-height: 1;\n}\n\n.message-tools-btn:hover {\n  background: #f5f5f5;\n}\n\n.message-tools-dropdown {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  margin-top: 6px;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 10px;\n  box-shadow: 0 10px 24px rgba(0,0,0,0.10);\n  display: none;\n  flex-direction: column;\n  min-width: 140px;\n  z-index: 2;\n}\n\n.message-tools-dropdown.show {\n  display: flex;\n}\n\n.message-tools-item {\n  padding: 10px 12px;\n  border: none;\n  background: white;\n  text-align: left;\n  font-size: 12px;\n}\n\n.message-tools-item:hover {\n  background: #f5f5f5;\n}\n\n.chat-tools {\n  display: flex;\n  gap: 4px;\n}\n\n.chat-tool-btn {\n  width: 32px;\n  height: 32px;\n  border: 1px solid #e0e0e0;\n  background: white;\n  border-radius: 6px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n}\n\n.chat-tool-btn:hover {\n  background: #f5f5f5;\n}\n\n.tools-menu {\n  position: relative;\n}\n\n.tools-menu-btn {\n  padding: 6px 10px;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  font-size: 14px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.tools-menu-btn:hover {\n  background: #f5f5f5;\n}\n\n.tools-dropdown {\n  position: absolute;\n  bottom: 100%;\n  right: 0;\n  margin-bottom: 4px;\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  display: none;\n  flex-direction: column;\n  min-width: 120px;\n  z-index: 100;\n}\n\n.tools-dropdown.show {\n  display: flex;\n}\n\n.tools-dropdown button {\n  padding: 8px 12px;\n  border: none;\n  background: white;\n  text-align: left;\n  font-size: 11px;\n  cursor: pointer;\n  border-radius: 0;\n}\n\n.tools-dropdown button:first-child {\n  border-radius: 6px 6px 0 0;\n}\n\n.tools-dropdown button:last-child {\n  border-radius: 0 0 6px 6px;\n}\n\n.tools-dropdown button:hover {\n  background: #f5f5f5;\n}\n\n/* Record ID Input */\n.record-id-input {\n  padding: 8px 16px;\n  border-top: 1px solid #e0e0e0;\n  background: white;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.record-id-input label {\n  font-size: 11px;\n  color: #666;\n  font-weight: 600;\n  white-space: nowrap;\n}\n\n.record-id-input select {\n  padding: 4px 6px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  font-size: 11px;\n  background: white;\n}\n\n.record-id-input input {\n  flex: 1;\n  padding: 6px 10px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  font-size: 12px;\n  outline: none;\n}\n\n.record-id-input input:focus {\n  border-color: #1976d2;\n}\n\n/* Workflow Buttons */\n.workflow-buttons {\n  padding: 8px 16px;\n  border-top: 1px solid #e0e0e0;\n  background: #fafafa;\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n  flex-shrink: 0;\n}\n\n.context-button {\n  padding: 6px 10px;\n  background: #f5f5f5;\n  border: 1px solid #e0e0e0;\n  border-radius: 6px;\n  font-size: 11px;\n  cursor: pointer;\n}\n\n.context-button:hover {\n  background: #e0e0e0;\n}\n\n/* Footer */\n.footer {\n  padding: 12px 16px;\n  border-top: 1px solid #e0e0e0;\n  background: #fafafa;\n  flex-shrink: 0;\n}\n\n.user-details {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.user-info {\n  font-size: 12px;\n  color: #666;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.preferences {\n  display: flex;\n  gap: 12px;\n  font-size: 11px;\n  align-items: center;\n}\n\n.preference-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  cursor: pointer;\n  padding: 2px 4px;\n  border-radius: 4px;\n}\n\n.preference-item:hover {\n  background: #f0f0f0;\n}\n\n.preference-item label {\n  color: #666;\n  font-size: 11px;\n}\n\n.pref-value {\n  color: #1976d2;\n  font-weight: 500;\n  font-size: 11px;\n}\n\n.preferences-expanded {\n  display: none;\n  margin-top: 8px;\n  padding-top: 8px;\n  border-top: 1px solid #e0e0e0;\n}\n\n.preferences-expanded.show {\n  display: block;\n}\n\n.preference-group {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 6px;\n}\n\n.preference-group label {\n  color: #666;\n  font-size: 11px;\n  min-width: 70px;\n}\n\n.preference-group select {\n  padding: 4px 6px;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  font-size: 11px;\n  flex: 1;\n}\n\n/* Animations */\n@keyframes pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.6; }\n}\n\n.status-thinking {\n  animation: pulse 1s ease-in-out infinite;\n}\n",""]);const s=a},825(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,i&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return n[o](r,r.exports,t),r.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o=t(72),i=t.n(o),r=t(825),a=t.n(r),s=t(659),p=t.n(s),d=t(56),l=t.n(d),c=t(540),x=t.n(c),u=t(113),f=t.n(u),g=t(718),b={};b.styleTagTransform=f(),b.setAttributes=l(),b.insert=p().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=x(),i()(g.A,b),g.A&&g.A.locals&&g.A.locals;const m="mobius.allowedDomains";async function h(){const n=(await async function(n){return new Promise(e=>chrome.storage.local.get(n,n=>e(n)))}([m]))[m];return Array.isArray(n)?n:[]}async function w(n,e){const t=(n||"").toLowerCase();if(!t)return;const o=await h(),i=new Set(o.map(n=>String(n).toLowerCase()).filter(Boolean));e?i.add(t):i.delete(t),await async function(n){return new Promise(e=>chrome.storage.local.set(n,()=>e()))}({[m]:Array.from(i).sort()})}async function y(n,e){return new Promise(t=>{chrome.tabs.sendMessage(n,e,n=>{const e=chrome.runtime.lastError?.message;t(e?{ok:!1,error:e}:n||{ok:!0})})})}function k(n,e){n.innerHTML="";const t=document.createElement("div");t.style.cssText="padding: 12px 12px; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Arial, sans-serif;";const o=document.createElement("div");if(o.textContent="Mobius OS",o.style.cssText="font-weight: 700; font-size: 13px; margin-bottom: 10px;",t.appendChild(o),e.error){const n=document.createElement("div");n.textContent=e.error,n.style.cssText="font-size: 12px; color: #b3261e; margin-bottom: 10px;",t.appendChild(n)}const i=document.createElement("div");i.textContent=e.hostname?`Site: ${e.hostname}`:"Site: (unavailable)",i.style.cssText="font-size: 12px; color: #5f6368; margin-bottom: 12px;",t.appendChild(i);const r=document.createElement("div");r.style.cssText="display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom: 12px;";const a=document.createElement("div");a.textContent="Enable mini on this site",a.style.cssText="font-size: 12px; font-weight: 600;";const s=document.createElement("input");s.type="checkbox",s.checked=Boolean(e.enabled),s.style.cssText="width: 16px; height: 16px;",r.appendChild(a),r.appendChild(s),t.appendChild(r);const p=document.createElement("div");p.style.cssText="display:flex; gap:8px;";const d=document.createElement("button");d.textContent="Open sidebar",d.style.cssText="flex:1; padding:8px 10px; border-radius:10px; border:1px solid rgba(60,64,67,0.18); background:#fff; cursor:pointer; font-size:12px; font-weight:700;";const l=document.createElement("button");return l.textContent="Collapse",l.style.cssText=d.style.cssText,p.appendChild(d),p.appendChild(l),t.appendChild(p),n.appendChild(t),{toggle:s,openBtn:d,closeBtn:l}}async function v(){const n=document.getElementById("app");if(!n)return;const[e]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!e?.id||!e.url)return void k(n,{error:"No active tab found."});if(["chrome://","chrome-extension://","edge://","about:"].some(n=>e.url.startsWith(n)))return void k(n,{error:"Not available on this page.",hostname:e.url});const t=function(n){try{return new URL(n).hostname.toLowerCase()}catch{return null}}(e.url);if(!t)return void k(n,{error:"Could not parse hostname.",hostname:e.url});const o=(await h()).map(n=>n.toLowerCase()).includes(t),i=k(n,{hostname:t,enabled:o});i.toggle.addEventListener("change",async()=>{const n=i.toggle.checked;await w(t,n),await y(e.id,{type:"mobius:setDomainAllowed",hostname:t,allowed:n})}),i.openBtn.addEventListener("click",async()=>{i.toggle.checked||(i.toggle.checked=!0,await w(t,!0),await y(e.id,{type:"mobius:setDomainAllowed",hostname:t,allowed:!0}));const o=await y(e.id,{type:"mobius:expand"});o.ok?window.close():k(n,{hostname:t,enabled:i.toggle.checked,error:o.error||"Failed to open."})}),i.closeBtn.addEventListener("click",async()=>{const o=await y(e.id,{type:"mobius:collapse"});o.ok||k(n,{hostname:t,enabled:i.toggle.checked,error:o.error||"Failed to collapse."})})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v()})();